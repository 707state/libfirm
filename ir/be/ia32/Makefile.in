#
# Project:     libFIRM
# File name:   ir/be/ia32/Makefile.in
# Purpose:
# Author:      Boris Boesler, Till Riedel
# Modified by:
# Created:
# CVS-ID:      $Id$
# Copyright:   (c) 1999-2005 Universitaet Karlsruhe
# Licence:     This file protected by GPL -  GNU GENERAL PUBLIC LICENSE.
#

top_srcdir := @top_srcdir@
srcdir = @srcdir@
topdir = ../../..
subdir := ir/be/ia32
full_dir = $(top_srcdir)/ir/be
full_dirbe = $(full_dir)/$(FIRMBE_ARCH)

SOURCES = Makefile.in new_nodes.c new_nodes.h emitter_gen.c emitter_gen.h transform.c transform.h gen_decls.c gen_decls.h emitter.c emitter.h

include $(topdir)/MakeRules

CPPFLAGS += 	-I$(top_srcdir)/ir/adt   -I$(top_srcdir)/ir/ir  -I$(top_srcdir)/ir/common  \
		-I$(top_srcdir)/ir/ident -I$(top_srcdir)/ir/tr  -I$(top_srcdir)/ir/tv \
		-I$(top_srcdir)/ir/debug -I$(top_srcdir)/ir/ana -I$(top_srcdir)/ir/st \
		-I$(top_srcdir)/ir/stat -I$(top_srcdir)/ir/external -I$(top_srcdir)/ir/ana2 \
		-I$(topdir)/ir/config

include $(top_srcdir)/MakeTargets

$(full_dirbe)/new_nodes.c $(full_dirbe)/new_nodes.h: $(full_dir)/scripts/generate_new_opcodes.pl $(full_dirbe)/$(FIRMBE_ARCH)_spec.pl dump_support.inl
	$(full_dir)/scripts/generate_new_opcodes.pl $(full_dirbe)/$(FIRMBE_ARCH)_spec.pl $(full_dirbe)

$(full_dirbe)/emitter_gen.c $(full_dirbe)/emitter_gen.h: $(full_dir)/scripts/generate_emitter.pl $(full_dirbe)/$(FIRMBE_ARCH)_spec.pl emitter.c emitter.h
	$(full_dir)/scripts/generate_emitter.pl $(full_dirbe)/$(FIRMBE_ARCH)_spec.pl $(full_dirbe)

all: subdir.o
